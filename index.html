<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>YieldJS by shinexavier</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>YieldJS</h1>
          <h2>A JavaScript library for creating Iterators, Generators and Continuation methods for Arrays.</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/shinexavier/YieldJS/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/shinexavier/YieldJS/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/shinexavier/YieldJS" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a id="yieldjs" class="anchor" href="#yieldjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>YieldJS</h1>

<p>A JavaScript library for creating Iterators, Generators and Continuation methods for Arrays.</p>

<p>The Iterator would be a method (<b>getIterator()</b>) that augments the Array data type and would have the following interfaces:</p>

<p>Properties:</p>

<ol>
<li>
<b>length</b>   : Length of the collection/array that would be iterated.</li>
<li>
<b>current</b>  : Gives the current element during the course of an iteration.</li>
<li>
<b>outList</b>  : The output collection/array after iteration.</li>
</ol>

<p>Methods:</p>

<ol>
<li>
<b>moveNext</b>  : Attempts to move the iteration pointer to the next element in the list and returns "<b>true</b>" if successful. If unsuccessful (primarily because the iteration pointer is at the last element in the list), returns "<b>false</b>".</li>
<li>
<b>iterate</b>  : Iterates the elements in the input array based on the continuation methods (if any) and returns the results as an "<b>array</b>".</li>
<li>
<b>reset</b>  : Resets the iterator (including the iteration pointer and output array) to be used for other iterations without creating a new iterator. Basically promotes reusability.</li>
</ol>

<p>Usage:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> x <span class="pl-k">=</span> [<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>, <span class="pl-c1">4</span>, <span class="pl-c1">5</span>, <span class="pl-c1">6</span>, <span class="pl-c1">7</span>],
    list <span class="pl-k">=</span> x.getIterator();
<span class="pl-k">while</span> (list.moveNext() {
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(list.<span class="pl-sc">current</span>);
}
<span class="pl-en">console</span><span class="pl-s3">.log</span>(continuation.outList);
continuation.<span class="pl-s3">reset</span>();
<span class="pl-en">console</span><span class="pl-s3">.log</span>(continuation.iterate());</pre></div>

<p>The Generator would be a method (<b>getGenerator(numberOfElements)</b>) that augments any Generator function (by accepting the number of elements to be generated) and would have the following interfaces:</p>

<p>Properties:</p>

<ol>
<li>
<b>current</b>  : Gives the current element during the course of a generation.</li>
</ol>

<p>Methods:</p>

<ol>
<li>
<b>moveNext</b>  : Attempts to Generate the next element based on the generator function, increments the iteration pointer and returns "<b>true</b>" if successful. If unsuccessful (primarily because the iteration pointer points to the last element returned by the generator function based on the number of elements specified), returns "<b>false</b>".</li>
<li>
<b>generate</b>  : Generates the elements based on the generator function, number of elements, continuation methods (if any) and returns the results as an "<b>array</b>".</li>
<li>
<b>nextSet</b>  : Prepares the generator to generate the next set of elements based on the number of elements specified (if unspecified, the default number of elements initialized as part of the generator creation would be used).</li>
</ol>

<p>Usage:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">//A generic sequence generator function:</span>
<span class="pl-st">function</span> <span class="pl-en">sequence</span>(<span class="pl-vpf">z</span>) {
    <span class="pl-s1"><span class="pl-pds">"</span>use strict<span class="pl-pds">"</span></span>;
    <span class="pl-s">var</span> y <span class="pl-k">=</span> <span class="pl-c1">0</span>;
    <span class="pl-k">return</span> <span class="pl-st">function</span> () {
        y <span class="pl-k">+=</span> z;
        <span class="pl-k">return</span> y;
    };
}

<span class="pl-s">var</span> a <span class="pl-k">=</span> sequence(<span class="pl-c1">1</span>).getGenerator(<span class="pl-c1">10</span>);<span class="pl-c">//For generating the first 10 elements (1 through 10)</span>
<span class="pl-k">while</span>(a.moveNext()) {
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(a.<span class="pl-sc">current</span>);
}

a.nextSet(<span class="pl-c1">5</span>);<span class="pl-c">//For generating the next 5 elements (11 through 15)</span>
<span class="pl-en">console</span><span class="pl-s3">.log</span>(a.generate());</pre></div>

<h1>
<a id="continuation-methods" class="anchor" href="#continuation-methods" aria-hidden="true"><span class="octicon octicon-link"></span></a>Continuation Methods:</h1>

<p>For creating continuation methods a context object is provided for qualifying methods.
The context object provides the following attributes for creating various useful functions:</p>

<ol>
<li>
<b>index</b> : Gives the index of the current element in iteration context.</li>
<li>
<b>current</b> : Gives the current element in iteration context.</li>
<li>
<b>outList</b> : Gives the cumilative output collection/array till that point of iteration.</li>
</ol>

<p>Usage:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">//Continuation Methods</span>
<span class="pl-st">function</span> <span class="pl-en">unique</span>(<span class="pl-vpf">context</span>) {
    <span class="pl-s1"><span class="pl-pds">"</span>use strict<span class="pl-pds">"</span></span>;
    <span class="pl-k">return</span> (context.outList.<span class="pl-s3">indexOf</span>(context.<span class="pl-sc">current</span>) <span class="pl-k">&lt;</span> <span class="pl-c1">0</span>) <span class="pl-k">?</span> context.<span class="pl-sc">current</span> <span class="pl-k">:</span> <span class="pl-c1">null</span>;
}

<span class="pl-st">function</span> <span class="pl-en">square</span>(<span class="pl-vpf">context</span>) {
    <span class="pl-s1"><span class="pl-pds">"</span>use strict<span class="pl-pds">"</span></span>;
    <span class="pl-k">return</span> (context.<span class="pl-sc">current</span> <span class="pl-k">*</span> context.<span class="pl-sc">current</span>);
}

<span class="pl-st">function</span> <span class="pl-en">filter</span>(<span class="pl-vpf">condition</span>) {
    <span class="pl-s1"><span class="pl-pds">"</span>use strict<span class="pl-pds">"</span></span>;
    <span class="pl-k">return</span> <span class="pl-st">function</span> (<span class="pl-vpf">context</span>) {
        <span class="pl-k">return</span> condition(context.<span class="pl-sc">current</span>) <span class="pl-k">?</span> context.<span class="pl-sc">current</span> <span class="pl-k">:</span> <span class="pl-c1">null</span>;
    };
}

<span class="pl-st">function</span> <span class="pl-en">even</span>(<span class="pl-vpf">val</span>) {
    <span class="pl-s1"><span class="pl-pds">"</span>use strict<span class="pl-pds">"</span></span>;
    <span class="pl-k">return</span> (val <span class="pl-k">%</span> <span class="pl-c1">2</span> <span class="pl-k">===</span> <span class="pl-c1">0</span>);
}

<span class="pl-st">function</span> <span class="pl-en">skip</span>(<span class="pl-vpf">count</span>) {
    <span class="pl-s1"><span class="pl-pds">"</span>use strict<span class="pl-pds">"</span></span>;
    <span class="pl-k">return</span> <span class="pl-st">function</span> (<span class="pl-vpf">context</span>) {
        <span class="pl-c">//console.log(this.index.toString() + " : " + this.current.toString());</span>
        <span class="pl-k">return</span> ((context.<span class="pl-sc">index</span> <span class="pl-k">%</span> (count <span class="pl-k">+</span> <span class="pl-c1">1</span>)) <span class="pl-k">===</span> <span class="pl-c1">0</span>) <span class="pl-k">?</span> context.<span class="pl-sc">current</span> <span class="pl-k">:</span> <span class="pl-c1">null</span>;
    };
}</pre></div>

<h1>
<a id="example-usage" class="anchor" href="#example-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example Usage:</h1>

<div class="highlight highlight-javascript"><pre><span class="pl-c">//Test Harness using all of above (iterators, generators and continuation methods)</span>
<span class="pl-s">var</span> x <span class="pl-k">=</span> [<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>, <span class="pl-c1">200</span>, <span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>, <span class="pl-c1">200</span>],
continuation <span class="pl-k">=</span> x.getIterator();
<span class="pl-en">console</span><span class="pl-s3">.log</span>(continuation.iterate());
continuation.<span class="pl-s3">reset</span>();
<span class="pl-k">while</span> (continuation.moveNext(unique, skip(<span class="pl-c1">2</span>))) {
    <span class="pl-c">//console.log(continuation.current);</span>
}
<span class="pl-en">console</span><span class="pl-s3">.log</span>(continuation.outList);

<span class="pl-st">function</span> <span class="pl-en">sequence</span>(<span class="pl-vpf">z</span>) {
    <span class="pl-s1"><span class="pl-pds">"</span>use strict<span class="pl-pds">"</span></span>;
    <span class="pl-s">var</span> y <span class="pl-k">=</span> <span class="pl-c1">0</span>;
    <span class="pl-k">return</span> <span class="pl-st">function</span> () {
        y <span class="pl-k">+=</span> z;
        <span class="pl-k">return</span> y;
    };
}

<span class="pl-s">var</span> a <span class="pl-k">=</span> sequence(<span class="pl-c1">1</span>).getGenerator(<span class="pl-c1">10</span>);
<span class="pl-k">while</span>(a.moveNext(square,skip(<span class="pl-c1">1</span>))) {
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(a.<span class="pl-sc">current</span>);
}
a.nextSet(<span class="pl-c1">5</span>);
<span class="pl-en">console</span><span class="pl-s3">.log</span>(a.generate(square));</pre></div>
        </section>

        <footer>
          YieldJS is maintained by <a href="https://github.com/shinexavier">shinexavier</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>